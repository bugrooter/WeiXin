<script src="/Scripts/jquery-1.11.0.min.js" type="text/javascript"></script>
<style type="text/css">

</style>
<script type="text/javascript" language="javascript">
    function checkFrom() {
        if ($("input[name='menuName']").val() == "") {
            msg_error("菜单名称不能为空!");
            return false;
        }
        return true;
    }
</script>
<div class="container form-list">
    <div class="form-head bondi-blue">
        $Model.Title</div>
    <div class="form-body">
        <form id="dataForm">
        <input type="hidden" id="weixinid" name="weixinid" value="$!{Model.DataModel.weixinid}" />
        <dl>
            <dt>上级菜单<input type="hidden" id="wId" name="Id" value="$!{Model.DataModel.Id}" />
            </dt>
            <dd>
                <select id="parentid" name="parentid" style="width: 265px;height:30px;">
                <option style="height:30px;" value="-1" ></option>
                #foreach($item in $Model.MenuParentList)
                <option style="height:30px;" value="$item.Id" #if($!Model.DataModel.parentid==$item.Id) selected #end>$item.menuName</option>
                #end
                </select><span style="color:Red;">*</span></dd>
        </dl>
        <dl>
            <dt>菜单名称</dt>
            <dd>
                <input type="text" style="width:265px;" id="menuName" name="menuName" maxlength="50" value="$!{Model.DataModel.menuName}" /><span style="color:Red;">*</span></dd>
        </dl>
        <dl>
            <dt>菜单类型</dt>
            <dd>
                <select id="menuType" name="menuType" style="width: 265px;height:30px;">
                #foreach($item in $Model.MenuTypeList)
                <option style="height:30px;" value="$item.Value" #if($!Model.DataModel.menuType==$item.Value) selected #end>$item.Name</option>
                #end
                </select><span style="color:Red;">*</span></dd>
        </dl>
        <dl>
            <dt>菜单key</dt>
            <dd>
                <input type="text" style="width:265px;" id="menuKey" name="menuKey" maxlength="300" value="$!{Model.DataModel.menuKey}" /><span style="color:Red;">click等点击必须</span></dd>
        </dl>
        <dl>
            <dt>菜单链接</dt>
            <dd>
                <input type="text" style="width:265px;" id="menuUrl" name="menuUrl" maxlength="500" value="$!{Model.DataModel.menuUrl}" /><span style="color:Red;">view类型必须</span></dd>
        </dl>
        <dl>
            <dt>媒体Media_id</dt>
            <dd>
                <input type="text" style="width:265px;" id="menuMediaid" name="menuMediaid" maxlength="500" value="$!{Model.DataModel.menuMediaid}" /><span style="color:Red;">media_id,view_limited必须 </span></dd>
        </dl>
        <dl>
            <dt>序号</dt>
            <dd>
                <input type="text" style="width:265px;" id="sort" name="sort" maxlength="500" value="$!{Model.DataModel.sort}" /><span style="color:Red;"></span></dd>
        </dl>
        <dl>
            <dt>状态</dt>
            <dd>
                <input type="radio" style="float:none;padding:0;margin:0;" #if($!Model.DataModel.state==1) checked #end id="state1" name="state" value="1" /><label for="state1" style="float:none;padding:0;margin:0;">已禁用</label><input style="float:none;padding:0;margin:0 0 0 50px;" type="radio" #if($!Model.DataModel.state==0) checked #end id="state" name="state" value="0" /><label for="state" style="float:none;padding:0;margin:0;">正常</label></dd>
        </dl>
        <dl>
            <dt>&nbsp;</dt>
            <dd>
            <input class="btn green" type="button" onclick="doSave(checkFrom,{getUrl:'/public/action/DataHandler.ashx?action=saveDo&method=sav_weixinmenu',postData:null, formId:'#dataForm',callBack:LoadListData,callParams:{getUrl:'/public/action/DataHandler.ashx?action=QueryList',postData:'method=list_weixinmenu&curpage='+$('#curpage').text(),formId:'#list_search_form'}});" value="保存设置"/><input class="btn" type="button"
                    value="取消修改" onclick="dialog_close();"/></dd>
        </dl>

        </form>
    </div>
</div>
